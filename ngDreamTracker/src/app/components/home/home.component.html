<h1>{{title}}</h1>
<h3><span>{{getDreamCount()}} dreams created</span></h3>

<!-- <img src="assets/images/IMG_STAR1.PNG" alt="Description of the image"> -->
<div class="card-body">
  <form name="createDreamForm" (submit)="addDream(newDream)">
    <div class="form-group">
      <label for="title">Title:</label>
      <input type="text" class="form-control" name="title" [(ngModel)]="newDream.title" id="title" placeholder="Enter title">
    </div>
    <div class="form-group">
      <label for="dreamer">Description:</label>
      <textarea class="form-control" name="dreamer" [(ngModel)]="newDream.dreamer" id="dreamer" placeholder="Enter dreamer"></textarea>
    </div>
    <div class="form-group">
      <label for="description">Description:</label>
      <textarea class="form-control" name="description" [(ngModel)]="newDream.description" id="description" placeholder="Enter description"></textarea>
    </div>
    <div class="form-group">
      <label for="date">Date:</label>
      <input type="date" class="form-control" name="date" [(ngModel)]="newDream.date" id="date">
    </div>
    <div class="form-group">
      <label for="time">Time:</label>
      <input type="time" class="form-control" name="time" [(ngModel)]="newDream.time" id="time">
    </div>
    <div class="form-group">
      <label for="type">Type:</label>
      <select class="form-control" name="type" [(ngModel)]="newDream.type" id="type">
        <option *ngFor="let dreamType of dreamTypes" [value]="dreamType">{{ dreamType }}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="emotion">Emotion:</label>
      <select class="form-control" name="emotion" [(ngModel)]="newDream.emotion" id="emotion">
        <option *ngFor="let dreamEmotion of dreamEmotions" [value]="dreamEmotion">{{ dreamEmotion }}</option>
      </select>
    </div>

      <button type="submit" class="btn btn-primary">Create Dream</button>

<!-- displayTable -->
        <div *ngIf="selected && !editDream" id="todoDetails">
          <table class="dream-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Title</th>
                <th>Dreamer</th>
                <th>Description</th>
                <th>Date</th>
                <th>Time</th>
                <th>Type</th>
                <th>Emotion</th>
                <th>Edit</th>
                <th>Cancel</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>{{selected.id}}</td>
                <td>{{selected.title}}</td>
                <td>{{selected.dreamer}}</td>
                <td>{{selected.description}}</td>
                <td>{{selected.date}}</td>
                <td>{{selected.time}}</td>
                <td>{{selected.type}}</td>
                <td>{{selected.emotion}}</td>
                <td><button class="btn btn-primary" (click)="setEditDream()">Edit</button></td>
                <td><button class="btn btn-danger" (click)="displayTable()">Back</button></td>
              </tr>
            </tbody>
          </table>
        </div>

<!-- edit or cancel -->
        <div *ngIf="editDream">
          <table class="dream-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Title</th>
                <th>Dreamer</th>
                <th>Description</th>
                <th>Date</th>
                <th>Time</th>
                <th>Type</th>
                <th>Emotion</th>
                <th>Edit</th>
                <th>Cancel</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td></td>


                <td><input type="text" name="title" [(ngModel)]="editDream.title" placeholder="Enter title" wrap="soft"></td>
                <td><input type="text" name="dreamer" [(ngModel)]="editDream.dreamer" placeholder="Enter Dreamer's name" wrap="soft"></td>
                <td><input type="text" name="description" [(ngModel)]="editDream.description" placeholder="Enter description" wrap="soft"></td>
                <td><input type="date" name="date" [(ngModel)]="editDream.date"></td>
                <td><input type="time" name="time" [(ngModel)]="editDream.time"></td>
                <td><input type="text" name="type" [(ngModel)]="editDream.type" placeholder="Enter type" wrap="soft"></td>
                <td><input type="text" name="emotion" [(ngModel)]="editDream.emotion" placeholder="Enter emotion" wrap="soft"></td>
                <td><button class="btn btn-primary" (click)="updateDream(editDream)">Save</button></td>
                <td><button class="btn btn-danger" (click)="editDream = null">Cancel</button></td>
              </tr>
            </tbody>
          </table>
        </div>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Title</th>
      <th>Dreamer</th>
      <th>Description</th>
      <th>Date</th>
      <th>Time</th>
      <th>Type</th>
      <th>Emotion</th>
      <th>Update</th>
      <th>Delete</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let dream of dreams">
      <td>{{ dream.id }}</td>
      <td (click)="displayDream(dream)">{{dream.title}}</td>
      <!-- <td>{{ dream.title }}</td> -->
      <td>{{ dream.dreamer }}</td>
      <td>{{ dream.description }}</td>
      <td>{{ dream.date }}</td>
      <td>{{ dream.time }}</td>
      <td>{{ dream.type }}</td>
      <td>{{ dream.emotion }}</td>
      <td><button class="btn btn-primary" (click)=" displayDream(dream)">Update</button></td>
      <td><button class="btn btn-danger" (click)="deleteDream(dream.id)">X</button></td>
    </tr>
  </tbody>
</table>
